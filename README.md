# csc340_animal_api
Simple CRUD API for Student Objects with JPA (Hibernate)

### Version
1.0.0

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/cmsteffey/csc340_animal_api
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/cmsteffey/csc340_animal_api/blob/main/pom.xml#L38) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`](https://github.com/cmsteffey/csc340_animal_api/blob/main/application.properties) This file has the configuration for the PostgreSQL database to use for the API.
    - You MUST have the database up and running before running the project!
        - Login to your neon.tech account.
        - Locate your database project.
        - On the project dashboard, click on "Connect" and select Java.
        - Copy the connection string provided.
        - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
        - `spring.datasource.username` and `spring.datasource.password` should be filled if your url doesn't work by itself.
- Build and run the main class. You should see a new table created in the Neon database.


[Demo video](https://uncg-my.sharepoint.com/:v:/g/personal/cmsteffey_uncg_edu/EQ0JKaww-6pEiaXm3C4oofgBbi1m4ekisPkxrbzpUy0NwQ?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=s4n3IP)
## API Endpoints
Base URL: [`http://localhost:8080/llamas`](http://localhost:8080/llamas)


1. ### [`/`](http://localhost:8080/llamas) (GET)
Gets a list of all Llamas in the database.

#### Response - A JSON array of Llama objects.

 ```
[
  {
    "llamaId": 1,
    "name": "Jim",
    "age": 15,
    "color": "Brown",
    "description": "It's a llama!"
  },
  {
    "llamaId": 2,
    "name": "Melvin",
    "age": 17,
    "color": "White",
    "description": "It's another llama!"
  }
]
```

2. ### [`/{llama_id}`](http://localhost:8080/llamas/1) (GET)
Gets an individual Llama in the system. Each Llama is identified by a numeric `llamaId`

#### Parameters
- Path Variable: `llamaId` &lt;Long &gt; - REQUIRED

#### Response - A single Llama

```
{
  "llamaId": 1,
  "name": "Jim",
  "age": 15,
  "color": "Brown",
  "description": "It's a llama!"
}
```

3. ### [`/search`](http://localhost:8080/llamas/search?name=ji) (GET)
Gets a list of llamas with names that contain the given string.

#### Parameters
- query parameter: `name` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Llama objects.

```
[
  {
    "llamaId": 1,
    "name": "Jim",
    "age": 15,
    "color": "Brown",
    "description": "It's a llama!"
  }
]
```

4. ### [`/color/{color}`](http://localhost:8080/llamas/color/tan) (GET)
Gets a list of Llamas that are a named color, case-insensitively.

#### Parameters
- path variable: `color` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Llama objects.

```
[
  {
    "llamaId": 3,
    "name": "Joe",
    "age": 12,
    "color": "Tan",
    "description": "Gets along well with others."
  }
]
```

5. ### [`/`](http://localhost:8080/llamas) (POST)
Create a new Llama entry

#### Request Body
A Llama object. Note the object does not include an ID as this is autogenerated, and will be overwritten if included.
```
{
  "name": "Billy",
  "age": 2,
  "color": "White",
  "description": "Is it a llama?"
}
```
#### Response - The newly created Llama.

```
{
  "llamaId": 9,
  "name": "Billy",
  "age": 2,
  "color": "White",
  "description": "Is it a llama?"
}
```
6. ### [`/{llama_id}`](http://localhost:8080/llamas/8) (PATCH)
#### Parameters
- Path Variable: `llama_id` &lt;integer&gt; - REQUIRED

#### Request Body
A Llama object with only the fields to update.
```
{
  "name":"Llamette"
}
```
#### Response - the updated Llama object.
```
{
  "llamaId": 3,
  "name": "Llamette",
  "age": 12,
  "color": "Tan",
  "description": "Gets along well with others."
}
```
7. ### [`/{llama_id}`](http://localhost:8080/llamas/3) (PUT)
Replace an existing Llama with new values.

#### Parameters
- Path Variable: `llama_id` &lt;integer&gt; - REQUIRED

#### Request Body
The new Llama object. The ID in the object is optional, and will be overwritten by the id in the URL path.
```
{
  "llamaId": 3,
  "name": "Joe",
  "age": 12,
  "color": "Tan",
  "description": "Goat not included :). Docile, chill llama. Coat browns in the sun. Gets along well with others."
}
```
#### Response - the same new Llama object.
```
{
  "llamaId": 3,
  "name": "Joe",
  "age": 12,
  "color": "Tan",
  "description": "Goat not included :). Docile, chill llama. Coat browns in the sun. Gets along well with others."
}
```
8. ### [`/{llama_id}`](http://localhost:8080/llamas/3) (DELETE)
Delete an existing Llama.

#### Parameters
- Path Variable: `llama_id` &lt;integer&gt; - REQUIRED

#### Response - the updated list of Llamas.
```
[
  {
    "llamaId": 1,
    "name": "Jim",
    "age": 15,
    "color": "Brown",
    "description": "Near North PA. Available for adoption, can't take care of him well anymore. Contact via text or call at 272-555-1636"
  },
  {
    "llamaId": 2,
    "name": "Melvin",
    "age": 17,
    "color": "White",
    "description": "Southwest Idaho. Moving into the city, gotta let this guy go to someone who'll love him. He's 17, calm, healthy, and very fluffy. Please send a text message to 986-555-2918 or call if you have questions. I have all of his records if needed."
  },
]
```

[Demo video](https://uncg-my.sharepoint.com/:v:/g/personal/cmsteffey_uncg_edu/EQ0JKaww-6pEiaXm3C4oofgBbi1m4ekisPkxrbzpUy0NwQ?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=s4n3IP)